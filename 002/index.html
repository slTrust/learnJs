<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./style.css">
    <title>我的导航</title>
    <style>
        .key{
            display: block;
            width:50px;
            height: 40px;
            border:1px solid #363636;
            color:#d1d1d1;
            border-radius:6px;
            background: linear-gradient(to bottom, rgba(41,41,41,1) 0%,rgba(17,17,17,1) 100%);
            box-shadow:  0px 0px 0px 1px #1a1b1c,0px 0px 0px 2px #1e1f20,0px 2px 0px 2px #030303;
            display: inline-flex;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>
<body>
    <header></header>
    <main>
        <div id="wraper"></div>
    </main>
    <kbd class="key">s</kbd>
    <footer></footer>
    <script>
        var keys = {
                    '0':['q','w','e','r','t','y','u','i','o','p'],
                    '1':['a','s','d','f','g','h','j','k','l'],
                    '2':['z','x','c','v','b','n','m'],
                    'length':3
                    }

        var hash = {
                    'q':'qq.com',
                    'w':'weibo.com',
                    'e':'ele.me',
                    'r':'renren.com',
                    't':'taobao.com',
                    'y':'youdao.com',
                    'u':'',
                    'i':'',
                    'o':'',
                    'p':'',
                    'a':'apple.com',
                    's':'shadowsocks.com',
                    'd':'',
                    'z':'zhihu.com',
                    'm':'mi.com'
                }
        
        var hashLocalStorage = JSON.parse(localStorage.getItem('zzz')||'null');
        if(hashLocalStorage){
            hash = hashLocalStorage;
        }

        var index = 0 ;
        while(index < keys['length']){
            var oDiv = document.createElement('div');
            var len = keys[index].length;
            for(var i=0;i<len;i++){
                var oKbd = document.createElement('kbd');
                oKbd.className = 'key';
                var text =keys[index][i];
                oKbd.textContent = text;
                var oEditBtn = document.createElement('button');
                oEditBtn.id = text;
                oEditBtn.textContent = 'E';
                oEditBtn.onclick = function(ev){
                    var key = ev.target.id
                    var newHref = prompt('给我一个网址'); 
                    hash[key] = newHref ;
                    //缓存
                    localStorage.setItem('zzz',JSON.stringify(hash));
                }
                oKbd.appendChild(oEditBtn);
                oDiv.appendChild(oKbd);

            }
            wraper.appendChild(oDiv);
            index++;
        }

        document.onkeypress = function(ev){
            var key = ev['key'];
            var myHref = hash[key];
            window.open('http://'+myHref,'_blank')
        }
      
       
    </script>
</body>
</html>