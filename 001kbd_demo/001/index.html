<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./style.css">
    <title>我的导航</title>
</head>
<body>
    <header></header>
    <main>
        <div id="wraper"></div>
    </main>
    <footer></footer>
    <script>
        var keys = {
                    '0':['q','w','e','r','t','y','u','i','o','p'],
                    '1':['a','s','d','f','g','h','j','k','l'],
                    '2':['z','x','c','v','b','n','m'],
                    'length':3
                    }

        var hash = {
                    'q':'qq.com',
                    'w':'weibo.com',
                    'e':'ele.me',
                    'r':'renren.com',
                    't':'taobao.com',
                    'y':'youdao.com',
                    'u':'',
                    'i':'',
                    'o':'',
                    'p':'',
                    'a':'apple.com',
                    's':'shadowsocks.com',
                    'd':'',
                    'z':'zhihu.com',
                    'm':'mi.com'
                }

        //读取本地缓存
        hashInLocalStorage = JSON.parse(localStorage.getItem('zzz')||'null');
        if(hashInLocalStorage){
            hash = hashInLocalStorage;
        }
        
        var index = 0 ;
        while(index<keys['length']){
            div1 = document.createElement('div');
            var index2 = 0;
            while(index2<keys[index].length){
                kbd = document.createElement('kbd');
                kbd.textContent = keys[index][index2];
                btn = document.createElement('button');
                btn.id = keys[index][index2];
                btn.textContent = 'E';
                btn.onclick = function(ev){
                    var key = ev['target']['id'];
                    x = prompt('给我一个网站');
                    console.log(key);
                    hash[key] = x;
                    localStorage.setItem('zzz',JSON.stringify(hash))
                }
                kbd.appendChild(btn);
                div1.appendChild(kbd)
                index2++;
            }
            wraper.appendChild(div1);
            index++;
        }

        document.onkeypress = function(ev){
            var key =ev['key'];
            var webSite = hash[key];
            console.log(webSite)

            // location.href ='http://'+ webSite;
            window.open('http://'+ webSite,'_blank')
        }
       
    </script>
</body>
</html>