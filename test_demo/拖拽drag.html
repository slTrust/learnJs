<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        #box{
            height: 200px;
            width: 200px;
            background: #ccc;
            position: absolute;
            left:0;
            top:0;
        }
    </style>
</head>
<body>
    <p>dfadfadsssssssssssssssssssssssssssss</p>
    <p>dfadfadsssssssssssssssssssssssssssss</p>
    <div id="box"></div>
    <script>
        window.onload = function(){
            var oBox = document.getElementById('box');

            oBox.onmousedown = function(ev){
                var ev = ev||event;
                var disX = ev.clientX - oBox.offsetLeft;
                var disY = ev.clientY - oBox.offsetTop;
                document.onmousemove = function(ev){
                    var ev = ev||event;
                    var l = ev.clientX - disX;
                    var t = ev.clientY - disY;
                    oBox.style.left = l+'px';
                    oBox.style.top = t+'px';
                }
                document.onmouseup = function(){
                    document.onmousemove = null;
                    document.onmouseup = null;
                    //释放鼠标捕获
                    oBox.releaseCapture && oBox.releaseCapture();
                 
                }
                 // 这个方法用来阻止   选中文字的bug  鼠标捕获设置到当前元素
                return false;
                //If true, all events are targeted directly to this element; if false, events can also fire at descendants of this element.
			    // 如果被设置为 true, 所有事件被直接定向到这个元素; 如果是 false, 事件也可以在这个元素的子元素上触发。
                //SetCapture()和ReleaseCapture()必须成对呈现。
                oDiv.setCapture && oDiv.setCapture();
            }
            
        }
    </script>
</body>
</html>